{% extends 'supernova/content_navigation.html' %}

{% load static %}

{% block head %}
    <style>
        .flex-wrapper > div {
            margin: 10px 20px;
            flex-basis: 475px;
        }

        #content-title-decorator {
        {% if  group.image.url %}
            background-image: url("{{ group.image.url }}");
        {% endif %}
        }
    </style>
{% endblock %}

{% block content-top %}
    <nav id="top-container">
        {% include 'groups/navigation.html' %}
    </nav>
{% endblock %}

{% block content %}
    <div id="content-title-decorator">
        <span class="clearfix"></span>
        <h1><i class="fas fa-users"></i> {{ group.name }}</h1>
        {% if group.abbreviation %}<h3>Abreviado {{ group.abbreviation }}</h3>{% endif %}
    </div>
    <div class="content-formatter">
        <div class="flex-wrapper">
            <div style="margin-right: 50px">
                <h2>Foto:</h2>
                <img src="{% get_media_prefix %}{{ group.image }}" style="max-width: 400px; max-height: 300px">
            </div>
            {% if group.location %}
                <div style="margin-right: 50px">
                    <h2>Localização:</h2>
                    <img src="#" width="450px" height="400px">
                </div>
            {% endif %}
            <div style="flex-basis: 300px">
                <h2>Informação:</h2>
                <h3>Descrição:</h3>
                {{ group.description }}
                {% if group.location %}
                    <h3>Localização:</h3>
                    {{ group.location }}
                {% endif %}
            </div>
            <div style="width:100%;">
                <h2>Atividade recente</h2>
                {% for announcement in announcements %}
                    <a href="{% url 'group_announcement' announcement.id %}">{{ announcement.title }}</a> em
                    {{ announcement.datetime }}
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}

{% block content-bottom %}
    <nav id="bot-container">
        <a class="menu-entry"> Subscrever</a>
        {% if group.non_member_permission <= group.CLOSED_PRIVATE %}
            <a class="menu-entry selected"><i class="fas fa-lock"></i> Admissão por convite</a>
        {% elif group.non_member_permission == group.OPEN %}
            <a class="menu-entry"><i class="fas fa-lock-open"></i> Entrar</a>
        {% else %}
            <a class="menu-entry"><i class="fas fa-lock-open"></i> Solicitar admissão</a>
        {% endif %}
    </nav>
{% endblock %}

{% block navigation %}
    {% include 'groups/navigation.html' %}
{% endblock %}
{% block side_extra %}
    <div id="side-extra">
        <a class="menu-entry">Gestão</a>
    </div>
{% endblock %}