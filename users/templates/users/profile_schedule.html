{% extends 'users/profile_base.html' %}

{% load static %}
{% block head %}
    {{ super.block }}
    <link rel="stylesheet" type="text/css" href="{% static 'college/schedule.css' %}"/>
{% endblock %}

{% block content %}
    <h1><i class="far fa-clock"></i> Horário de {{ user.get_full_name }}</h1>
    <div style="overflow-x: scroll;">
        <table class="schedule" cellpadding="0" cellspacing="0" width="100%">
            <tr>
                <th>Hora</th>
                <th colspan="{{ weekday_spans.0 }}">Segunda-feira</th>
                <th colspan="{{ weekday_spans.1 }}">Terça-feira</th>
                <th colspan="{{ weekday_spans.2 }}">Quarta-feira</th>
                <th colspan="{{ weekday_spans.3 }}">Quinta-feira</th>
                <th colspan="{{ weekday_spans.4 }}">Sexta-feira</th>
            </tr>
            {% for row in schedule %}
                <tr>
                    <td>{{ row.0|safe }}</td>
                    {% for element in row.1 %}

                        {% if element %}
                            <td class='turn turn-{{ element.turn.turn.turn_type.name|lower }}'
                                rowspan="{{ element.rowspan }}">
                                <a href="{% url 'class_instance' element.turn.turn.class_instance.id %}">
                                    {{ element.turn.turn.class_instance.parent.abbreviation }}<br>
                                    {{ element.turn.turn.turn_type|upper }}{{ element.turn.turn.number }}<br></a>
                                <a href="{% url 'classroom' element.turn.place.id %}">
                                    {{ element.turn.place.short_str }}</a>
                            </td>
                        {% else %}
                            <td></td>
                        {% endif %}
                    {% endfor %}
                </tr>
            {% endfor %}
        </table>
    </div>
{% endblock %}